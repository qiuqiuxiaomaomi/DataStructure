# DataStructure
数据结构

<pre>
线性表：
    一个线性表是n个数据元素的有限序列。
    线性表的存储结构：
        1）顺序存储结构
        2）链式存储结构

    分类：
        1）单链表
        2）循环链表
        3）双链表
</pre>

![](https://i.imgur.com/iYiTcIa.png)

![](https://i.imgur.com/bDJmPOo.png)

<pre>
栈：
     栈是限定仅在表尾进行插入或删除操作的线性表。

     存储结构：
         1）顺序栈
            利用一组地址连续的存储单元依次存放自栈底到栈顶的数据元素.
            由于顺序栈的入栈操作受到数组上界的约束，当对栈的最大使用空间估计不足时，有可能
         发生栈上溢出。

         解决栈溢出
            申请一大块空间，分别从两端入栈
   
典型应用：
   1）函数调用，调用栈
   2）表达式求值
   3）递归调用       
</pre>

<pre>
队列
   队列是一种先进先出的线性表，它只允许在表的一段进行插入，而在另一端删除元素。
   
   队列在程序设计语言中也经常出现，一个最典型的例子就是操作系统中的作业调度。

   存储结构
      1）顺序队列
      2）链式队列
      3）循环队列

</pre>

<pre>
List
</pre>

<pre>
Map
</pre>

<pre>
Set
</pre>

<pre>
数组
</pre>

<pre>
链表：
    单向链表
    双向链表
</pre>

二叉树的链式存储结构

![](https://i.imgur.com/KbDnF0u.png)

哈夫曼树

![](https://i.imgur.com/BbYgyHh.png)

平衡二叉树VS非平衡二叉树

![](https://i.imgur.com/aPt7CTs.png)

m阶B-树

![](https://i.imgur.com/ghsM45b.png)

![](https://i.imgur.com/lQ5gFn8.png)

B+树

![](https://i.imgur.com/HEpRXDU.png)


MyIsam的B+树主索引

![](https://i.imgur.com/S7Jjdni.png)


MyIsam的B+树辅助索引

![](https://i.imgur.com/IQjNTni.png)

InnoDB主键索引

![](https://i.imgur.com/jl7h3Tm.png)

InnoDB辅助索引

![](https://i.imgur.com/1Ph5sND.png)

<pre>
树：
   二叉树：
         每个节点至多只有两棵子树（即二叉树中不存在度大于2的节点），并且二叉树的子树有左右
      之分，其次序不能颠倒。

   满二叉树：
      一棵深度为k,且有2的k次方 - 1 个节点的二叉树称为满二叉树。

   完全二叉树：

   二叉树的存储结构：
       1）顺序存储结构
          用一组连续的存储单元存储二叉树的数据元素。
       2）链式存储结构
          
   遍历二叉树和线索二叉树
       1）先序遍历
          1）访问根节点
          2）先序遍历左子树
          2）先序遍历右子树

       2）中序遍历
          1）中序遍历左子树
          2）访问根节点
          3）中序遍历右子树

       3）后序遍历
          1）后序遍历左子树
          2）后序遍历右子树
          3）访问根节点

   哈夫曼树：
      哈夫曼树，又称最优树，是一类带权路径长度最短的树。

   查找树：
      二叉查找树/二叉搜索树/二叉排序树/二叉有序树
          在二叉搜索树中：
              ① 若任意结点的左子树不空，则左子树上所有结点的值均不大于它的根结点的值；
              ② 若任意结点的右子树不空，则右子树上所有结点的值均不小于它的根结点的值；
              ③ 任意结点的左、右子树也分别为二叉搜索树。

   AVL树
      AVL树本质上是一颗二叉查找树，但是它又具有以下特点：它是一棵空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。在AVL树中任何节点的两个子树的高度最大差别为一，所以它也被称为平衡二叉树。下面是平衡二叉树和非平衡二叉树对比的例图

   B(B-)树
      B-树种所有节点中孩子节点个数的最大值称为B-树的阶，从查找效率上来考虑，一般要求m>=3;

        1）结点的分支数等于关键字数+1，最大的分支数就是B-树的阶数，因此m阶的B-树中结点最多有m个分支，所以可以看到，上面的一棵树是一个5-阶B-树。
        2）因为上面是一棵5阶B-树，所以非根非叶结点至少要有ceil(5/2)=3个分支。根结点可以不满足这个条件，图中的根结点有两个分支。
        3）如果根结点中没有关键字就没有分支，此时B-树是空树，如果根结点有关键字，则其分支数比大于或等于2，因为分支数等于关键字数+1.

      B-树的查找操作
          B-树的查找很简单，是二叉排序树的扩展，二叉排序树是二路查找，B-树是多路查找，因为B-树结点内的关键字是有序的，在结点内进行查找时除了顺序查找外，还可以用折半查找来提升效率

      为了将大型数据库文件存储在硬盘上，以减少访问硬盘次数为目的，在此提出了一种平衡多路查找树——B-树结构

   B+树
      B+树是应文件系统所需而产生的一种B-树的变形树。一棵m 阶的B+树和m 阶的B-树的差异在于：
         ⑴有n 棵子树的结点中含有n 个关键码；
         ⑵所有的叶子结点中包含了全部关键码的信息，及指向含有这些关键码记录的指针，且叶子
           结点本身依关键码的大小自小而大的顺序链接。
         ⑶所有的非终端结点可以看成是索引部分，结点中仅含有其子树根结点中最大（或最小）
           关键码。

      在 MySQL 中，主要有四种类型的索引，分别为： B-Tree 索引， Hash 索引， Fulltext 索引和 R-Tree 索引。我们主要分析B-Tree 索引。

        B-Tree 索引是 MySQL 数据库中使用最为频繁的索引类型，除了 Archive 存储引擎之外
        的其他所有的存储引擎都支持 B-Tree 索引。Archive 引擎直到 MySQL 5.1 才支持索
        引，而且只支持索引单个 AUTO_INCREMENT 列。

        不仅仅在 MySQL 中是如此，实际上在其他的很多数据库管理系统中B-Tree 索引也同样是
        作为最主要的索引类型，这主要是因为 B-Tree 索引的存储结构在数据库的数据检索中有
        非常优异的表现。

        一般来说， MySQL 中的 B-Tree 索引的物理文件大多都是以 Balance Tree 的结构来存
        储的，也就是所有实际需要的数据都存放于 Tree 的 Leaf Node(叶子节点) ，而且到任
        何一个 Leaf Node 的最短路径的长度都是完全相同的，所以我们大家都称之为 B-Tree 
        索引。当然，可能各种数据库（或 MySQL 的各种存储引擎）在存放自己的 B-Tree 索引的
        时候会对存储结构稍作改造。如 Innodb 存储引擎的 B-Tree 索引实际使用的存储结构实
        际上是 B+Tree，也就是在 B-Tree 数据结构的基础上做了很小的改造，在每一个
        Leaf Node 上面出了存放索引键的相关信息之外，还存储了指向与该 Leaf Node 相邻的
        后一个 LeafNode 的指针信息（增加了顺序访问指针），这主要是为了加快检索多个相
        邻 Leaf Node 的效率考虑。

     MyIsam索引
        MyISAM引擎使用B+Tree作为索引结构，叶节点的data域存放的是数据记录的地址。下图是MyISAM主键索引的原理图：

        在MyISAM中，主索引和辅助索引（Secondary key）在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复
                       
     InnoDB索引

        虽然InnoDB也使用B+Tree作为索引结构，但具体实现方式却与MyISAM截然不同.

        1）主键索引：

         MyISAM索引文件和数据文件是分离的，索引文件仅保存数据记录的地址。而在InnoDB中，表数据文件本身就是按B+Tree组织的一个索引结构，这棵树的叶节点data域保存了完整的数据记录。这个索引的key是数据表的主键，因此InnoDB表数据文件本身就是主索引。

         叶节点包含了完整的数据记录。这种索引叫做聚集索引。因为InnoDB的数据文件本身要按主键聚集，所以InnoDB要求表必须有主键（MyISAM可以没有），如果没有显式指定，则MySQL系统会自动选择一个可以唯一标识数据记录的列作为主键，如果不存在这种列，则MySQL自动为InnoDB表生成一个隐含字段作为主键，这个字段长度为6个字节，类型为长整形。

        2）辅助索引
         InnoDB 表是基于聚簇索引建立的。因此InnoDB 的索引能提供一种非常快速的主键查找
         性能。不过，它的辅助索引（Secondary Index， 也就是非主键索引）也会包含主键列，
         所以，如果主键定义的比较大，其他索引也将很大。如果想在表上定义 、很多索引，则争
         取尽量把主键定义得小一些。InnoDB 不会压缩索引。

         文字符的ASCII码作为比较准则。聚集索引这种实现方式使得按主键的搜索十分高效，但
         是辅助索引搜索需要检索两遍索引：首先检索辅助索引获得主键，然后用主键到主索引中
         检索获得记录。

         不同存储引擎的索引实现方式对于正确使用和优化索引都非常有帮助，例如知道了InnoDB
         的索引实现后，就很容易明白为什么不建议使用过长的字段作为主键，因为所有辅助索引都
         引用主索引，过长的主索引会令辅助索引变得过大。再例如，用非单调的字段作为主键在InnoDB中不是个好主意，因为InnoDB数据文件本身是一颗B+Tree，非单调的主键会造成
         在插入新记录时数据文件为了维持B+Tree的特性而频繁的分裂调整，十分低效，而使用自
         增字段作为主键则是一个很好的选择。

   红黑树
</pre>

<pre>
散列
   哈希扩容
   碰撞检测
</pre>

<pre>
图
</pre>